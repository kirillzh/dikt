buildscript {
    repositories {
        mavenLocal()
        mavenCentral()
    }
    dependencies {
        classpath "io.github.sergeshustoff:dikt-gradle-plugin:$dikt_version"
    }
}
plugins {
    id 'application'
    id 'kotlin'
}

apply plugin: 'io.github.sergeshustoff.dikt'

tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).configureEach {
    kotlinOptions {
        useIR = true
    }
}
System.setProperty("kotlin.compiler.execution.strategy", "in-process") // For debugging

dependencies {
    implementation project(':runtime')
    implementation project(':sample-multiplatform')
    testImplementation "junit:junit:4.13"
    testImplementation "com.google.truth:truth:1.0.1"
}
application {
    mainClass = 'dev.shustoff.dikt.sample.SampleMain'
}